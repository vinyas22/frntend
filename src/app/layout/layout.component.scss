html, body {
  min-width: 0; max-width: 100vw; overflow-x: hidden;
}
.layout-container {
  min-width: 0;
  max-width: 100vw;
  width: 100vw;
  position: relative;
  display: flex;
  flex-direction: column;
}
.header-bar {
  position: fixed;
  top: 0; left: 0; right: 0;
  z-index: 1001;
  background: #fff;
  box-shadow: 0 2px 4px #0002;
  display: flex;
  align-items: center;
  height: 64px;
  width: 100vw;
  padding: 0 1.2rem;
  .sidebar-toggle { background: none; border: none; cursor: pointer; margin-right: 1rem;}
  .app-title { font-size: 1.25rem; font-weight: bold; margin: 0;}
  .header-actions {
    margin-left: auto; display: flex; align-items: center; gap: 1rem;
    .logout-btn, .theme-toggle { background: none; border: none; cursor: pointer; }
  }
}
body.dark .header-bar { background: #151a24; color: #eee; box-shadow: 0 2px 4px #0008; }

.app-sidebar {
  position: fixed;
  top: 0;
  left: 0;
  height: 100vh;
  z-index: 1002;
  background: #fff;
  box-shadow: 0 0 10px #0002;
  border-right: 1px solid #eaeaea;
  width: 16rem;
  min-width: 0;
  transition: left .4s, width .4s;
  overflow-y: auto;
  /* Collapsed style for desktop */
  &.collapsed { width: 4rem; }
  /* Desktop (wide) */
  @media (min-width: 901px) {
    display: block;
    left: 0;
    &.hide, &.show { left: 0; }
  }
  /* Mobile (off-canvas by default, slides in if .show is set) */
  @media (max-width: 900px) {
    left: -16rem;
    width: 16rem;
    &.show { left: 0; box-shadow: 0 0 40px #0005; }
    &.hide { left: -16rem; }
    /* Collapsed doesn't matter on mobile, always full width */
    &.collapsed { width: 16rem; }
  }
}
body.dark .app-sidebar { background: #181e2c; border-color: #293041; }

.mobile-overlay {
  position: fixed;
  inset: 0;
  z-index: 1001;
  background: #0008;
  transition: opacity .2s;
}

.main-content {
  margin-top: 64px; /* header height */
  margin-left: 16rem;
  width: calc(100vw - 16rem);
  min-width: 0; max-width: 100vw;
  transition: margin-left .34s;
  @media (max-width: 900px) {
    margin-left: 0 !important;
    width: 100vw !important;
    min-width: 0; max-width: 100vw;
    padding-bottom: 18px;
  }
  /* When sidebar collapsed on desktop */
  .layout-container.sidebar-collapsed & {
    margin-left: 4rem;
    width: calc(100vw - 4rem);
  }
}

body.dark { background: #151a24; color: #f1f4fa; }

/* Utility fixes for content pages */
.report-main-wrapper, main.content {
  width: 100vw;
  max-width: 100vw;
  min-width: 0;
  padding: 0;
  box-sizing: border-box;
  overflow-x: hidden;
}
@media (min-width: 1000px) {
  .report-main-wrapper, main.content {
    width: calc(100vw - 16rem);
    max-width: calc(100vw - 16rem);
    padding-left: 22px;
    padding-right: 22px;
    margin: 0;
  }
  .layout-container.sidebar-collapsed .report-main-wrapper,
  .layout-container.sidebar-collapsed main.content {
    width: calc(100vw - 4rem);
    max-width: calc(100vw - 4rem);
    padding-left: 12px;
    padding-right: 12px;
    margin: 0;
  }
}

/* Ensure no horizontal scrolling for ALL screens */
html, body, .layout-container, main, .report-main-wrapper, .main-content, .app-sidebar, .header-bar {
  box-sizing: border-box;
  max-width: 100vw !important;
  min-width: 0 !important;
  overflow-x: hidden !important;
}
