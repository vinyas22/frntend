.report-root {
  max-width: 960px;
  margin: 0 auto;
  padding: 28px 14px 45px 14px;
}
.report-header { margin-bottom: 28px; }
.report-title { font-size: 2.2rem; font-weight: 800; margin-bottom: 0.6rem; color: #151c2f; }
.report-desc { font-size: 1.07rem; color: #5b6578; }

.report-card, .chart-card {
  background: #fff;
  border-radius: 15px;
  box-shadow: 0 2px 13px rgba(40,44,60,0.07);
  padding: 21px 22px 22px 22px;
  border: 1px solid #e2e6f0;
  display: flex; flex-direction: column;
  margin-bottom: 20px;
  transition: background 0.3s, border-color 0.3s;
}
.report-period-selector { padding: 20px 16px; }
.report-cards-row { display: flex; flex-wrap: wrap; gap: 14px; margin-bottom: 18px; }
@media (max-width:900px) { .report-cards-row { flex-direction: column; gap: 7px; } }

.report-charts-row { display: flex; gap: 18px; margin-bottom: 19px; }
.half-chart { flex: 1 1 0; max-width: 49%; min-width: 0; display: flex; flex-direction: column; }
.chart-title { font-size: 1.02rem; font-weight: 700; margin-bottom: 11px; color: #222941; }
.chart-container {
  width: 100%;
  min-width: 220px;
  height: 280px; /* Explicit or minimum height is critical! */
  min-height: 170px;
  border-radius: 11px; background: transparent; position: relative;
}
@media (max-width:900px) {
  .report-charts-row { flex-direction: column; gap:12px; }
  .half-chart { max-width: 100%; margin-bottom: 14px; }
}

.report-table-card { padding: 0; }
.report-table-title { padding: 16px 20px 8px 20px; font-size: 1.07rem; font-weight: 700; border-bottom: 1px solid #eaecef; color: #232943; }
.report-table-wrapper { padding: 0 11px 10px 11px; }
.report-table { width: 100%; border-collapse: collapse; }
.report-table th, .report-table td { padding: 12px 8px; }
.report-table th {
  text-align: left;
  background: #f6f8fb;
  color: #6b7197;
  font-size: 0.92em; font-weight: 700; border-bottom: 1px solid #e4e6ef; text-transform: uppercase;
}
.report-table td { font-size: 0.97em; color: #1a1e25; }
.report-table tr { transition: background 0.16s; }
.report-table tbody tr:hover { background: #f7fbff; }
.row-selected { background: #eaf2ff; }
.amount { font-weight: 700; }
.change-badge { display: inline-block; min-width: 44px; padding: 3px 10px; border-radius: 1em; font-size: 0.89em; font-weight: 700; text-align: center; background: #f1f1f5; color: #4a4c4f; }
.badge-pos { background: #e6fbed; color: #17865b; }
.badge-neg { background: #ffe9ea; color: #bd1f2d;}
.badge-neutral{ background: #ececec; color: #888; }

.report-empty { text-align: center; margin-top: 35px;
  .empty-icon { font-size: 2.5em; margin-bottom: 10px; color: #999bb6; }
  h3 { margin-bottom: 4px; font-size: 1.07em; color: #232943;}
  p  { color: #6a6e84;}
}
.report-loading { display: flex; align-items: center; justify-content: center; min-height: 120px; }
.report-spinner { width: 63px; height: 63px; border-radius: 50%; border: 6px solid #eee; border-top: 6px solid #3891e7; animation: spin 1s linear infinite; margin: 30px auto; }
@keyframes spin { 100% { transform: rotate(360deg); } }
.report-error-content { display: flex; gap: 13px; align-items: flex-start;
  .report-error-icon { color: #e24c4c; font-size: 1.22em; margin-top: 3px; }
  h3 { font-size: 1.02em; margin: 0 0 2px 0; color: #d21a3c;}
  p { margin: 0 0 4px 0; color: #922424; }
  button { color: #d21a3c; text-decoration: underline; background: none; border: none; cursor: pointer; }
}
.report-filter-bar { margin-bottom: 14px; display: flex; align-items: center; gap: 10px; .filter-value { color: #3175f3; } button { background: none; border: none; color: #3175f3; text-decoration: underline; cursor: pointer; font-size: 0.97em; } }
/* Mobile */
@media (max-width: 600px) {
  .report-root { padding: 10px 2.5vw 16px 2vw; }
  .report-card, .chart-card { padding: 10px 5px 13px 7px !important; }
  .chart-title { font-size: 0.92rem; }
}
/*** DARK MODE ***/
.dark .report-root { background: #181a25; }
.dark .report-header .report-title { color: #fff; }
.dark .report-header .report-desc  { color: #bfcbe0; }
.dark .report-card, .dark .chart-card, .dark .report-empty { background: #20283e !important; color: #fff !important; border-color: #384071 !important;}
.dark .report-table-card { background: #20283e !important; border-color: #384071 !important; }
.dark .report-table-title { color: #f9faff; border-bottom: 1px solid #3a4369; }
.dark .report-table th { background: #232a37; color: #fff !important; border-bottom: 1.5px solid #2b3153; }
.dark .report-table td { color: #fff !important; }
.dark .report-table tr { background: #20283e; }
.dark .report-table tbody tr:hover { background: #273050; }
.dark .row-selected    { background: #283d63 !important; }
.dark .amount { color: #fff !important; }
.dark .change-badge       { background: #253045; color: #dcdfed; }
.dark .badge-pos          { background: #1b4731; color: #81eac2; }
.dark .badge-neg          { background: #572222; color: #ff8f91; }
.dark .badge-neutral      { background: #2d3243; color: #a6a8c4;}
.dark .chart-title        { color: #fff !important; }
.dark .chart-container    { background: inherit !important; }
.dark #pieChart svg path, .dark #barChart svg path { stroke: #20283e !important; }

.dark .report-card,
.dark .chart-card,
.dark .report-table-card,
.dark .report-empty {
  background: #20283e !important;
  color: #fff !important;
  border-color: #384071 !important;
}

.dark .report-table-title,
.dark .chart-title {
  color: #fff !important;
}

.dark .report-table th,
.dark .report-table td {
  background: #232a37 !important;
  color: #fff !important;
}
/* === ENFORCED DARK MODE CLEANUP === */
:host-context(.dark) .report-card,
:host-context(.dark) .chart-card,
:host-context(.dark) .report-table-card,
:host-context(.dark) .report-empty {
  background: #20283e !important;
  color: #fff !important;
  border: none !important;
  box-shadow: none !important;
}

/* Table header and body: white text, dark bg, NO borders */
:host-context(.dark) .report-table-title,
:host-context(.dark) .report-table th,
:host-context(.dark) .chart-title {
  color: #fff !important;
  border: none !important;
  background: #232a37 !important;
}
:host-context(.dark) .report-table th,
:host-context(.dark) .report-table td {
  background: #232a37 !important;
  color: #fff !important;
  border: none !important;
}

/* Row backgrounds uniform; no box border */
:host-context(.dark) .report-table tr,
:host-context(.dark) .report-table tbody tr:hover,
:host-context(.dark) .row-selected {
  background: #232a37 !important;
  border: none !important;
}

/* Badges, etc: pure dark/white, no outline */
:host-context(.dark) .change-badge,
:host-context(.dark) .badge-pos,
:host-context(.dark) .badge-neg,
:host-context(.dark) .badge-neutral {
  background: #232a37 !important;
  color: #fff !important;
  border: none !important;
}

/* Error/empty */
:host-context(.dark) .report-error-content,
:host-context(.dark) .report-empty {
  border: none !important;
  background: #232a37 !important;
  color: #fff !important;
}

/* SVG Chart borders gone */
:host-context(.dark) #pieChart svg path,
:host-context(.dark) #barChart svg path,
:host-context(.dark) #comparisonChart svg path {
  stroke: #20283e !important;
  border: none !important;
}

/* Remove box-shadow everywhere in dark for a zero-outline look */
:host-context(.dark) .report-card,
:host-context(.dark) .chart-card,
:host-context(.dark) .report-table-card,
:host-context(.dark) .report-empty {
  box-shadow: none !important;
}

/* Fix select, dropdown, inputs if needed */
:host-context(.dark) select,
:host-context(.dark) input,
:host-context(.dark) .filter-value {
  color: #fff !important;
  background: #232a37 !important;
  border: none !important;
}

/* Remove hover outline, selection highlight completely */
:host-context(.dark) .report-table tr:active,
:host-context(.dark) .report-table tbody tr:hover,
:host-context(.dark) .row-selected {
  outline: none !important;
  background: #232a37 !important;
}

